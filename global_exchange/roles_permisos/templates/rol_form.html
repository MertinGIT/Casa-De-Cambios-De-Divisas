{% load static %}
<link rel="stylesheet" href="{% static 'roles_permisos/css/components.css' %}">
<div class="card shadow-lg border-0 rounded-3">
  <div class="card-header bg-light">
    <h4 class="m-2">
      {{ form.instance.pk|yesno:"Editar Rol,Nuevo Rol" }}
    </h4>
  </div>
  <div class="card-body">
    <form method="post" action="{% if rol %}{% url 'rol_editar' rol.id %}{% else %}{% url 'rol_nuevo' %}{% endif %}">
      {% csrf_token %}

      <div class="mb-3">
        <label class="form-label fw-bold">Nombre</label>
        {{ form.nombre }}
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Descripción</label>
        {{ form.descripcion }}
      </div>

      <!-- Permisos -->
      <div class="mb-3">
        <label class="form-label fw-bold">Permisos</label>
        <div class="d-flex flex-wrap gap-2">
          {% for checkbox in form.permisos %}
          <input type="checkbox" class="btn-check" id="permiso{{ forloop.counter }}" name="{{ checkbox.data.name }}"
            value="{{ checkbox.data.value }}" {% if checkbox.data.selected %}checked{% endif %}>
          <label class="btn custom-btn" for="permiso{{ forloop.counter }}">
            {{ checkbox.choice_label }}
          </label>
          {% endfor %}
        </div>
      </div>


      <!-- Botón Guardar -->
      <div class="text-end">
        <button type="submit" class="btn btn-success px-4">Guardar</button>
      </div>
    </form>
  </div>
</div>
