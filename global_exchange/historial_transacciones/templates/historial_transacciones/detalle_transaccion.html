{% extends "base_forms.html" %}

{% block form_title %}Detalle Transacci√≥n #{{ transaccion.id }}{% endblock %}

{% block form_fields %}
<style>
.detail-row{display:flex;flex-direction:column;margin-bottom:14px;}
.detail-label{font-size:12px;text-transform:uppercase;letter-spacing:.5px;color:#6b7280;font-weight:600;margin-bottom:4px;}
.detail-value{background:#f0edff;border:1px solid #d1d5db;border-radius:6px;padding:10px 12px;font-size:14px;font-weight:500;}
.badge-inline{display:inline-block;padding:4px 10px;border-radius:4px;font-size:12px;font-weight:600;margin-top:4px;}
.bg-confirmada{background:#9CDBA6;color:#056b2c;}
.bg-pendiente{background:#FFF2CC;color:#9c7a00;}
.bg-cancelada{background:#FFC5C5;color:#b30000;}
.section-title{font-size:13px;font-weight:600;margin:22px 0 8px;color:#374151;text-transform:uppercase;}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
@media(max-width:640px){.grid-2{grid-template-columns:1fr;}}
</style>

<div class="grid-2">
  <div class="detail-row">
    <span class="detail-label">Fecha</span>
    <div class="detail-value">{{ transaccion.fecha|date:"d/m/Y H:i:s" }}</div>
  </div>
  <div class="detail-row">
    <span class="detail-label">Monto</span>
    <div class="detail-value">{{ transaccion.monto|floatformat:2 }}</div>
  </div>
  <div class="detail-row">
    <span class="detail-label">Estado</span>
    <div class="detail-value">
      {% if transaccion.estado == 'confirmada' %}
        Confirmada <span class="badge-inline bg-confirmada">OK</span>
      {% elif transaccion.estado == 'pendiente' %}
        Pendiente <span class="badge-inline bg-pendiente">...</span>
      {% else %}
        Cancelada <span class="badge-inline bg-cancelada">X</span>
      {% endif %}
    </div>
  </div>
  <div class="detail-row">
    <span class="detail-label">Tipo</span>
    <div class="detail-value">
      {% if transaccion.tipo == 'compra' %}Compra{% else %}Venta{% endif %}
    </div>
  </div>
  <div class="detail-row">
    <span class="detail-label">Moneda Origen</span>
    <div class="detail-value">
      {{ transaccion.moneda_origen.abreviacion|default:"-" }}
    </div>
  </div>
  <div class="detail-row">
    <span class="detail-label">Moneda Destino</span>
    <div class="detail-value">
      {{ transaccion.moneda_destino.abreviacion|default:"-" }}
    </div>
  </div>
  {% if transaccion.tasa_usada %}
  <div class="detail-row">
    <span class="detail-label">Tasa Usada</span>
    <div class="detail-value">{{ transaccion.tasa_usada|floatformat:4 }}</div>
  </div>
  {% endif %}
  {% if transaccion.tasa_ref %}
  <div class="detail-row">
    <span class="detail-label">Tasa Referencia</span>
    <div class="detail-value">{{ transaccion.tasa_ref.tasa|floatformat:4 }}</div>
  </div>
  {% endif %}
</div>
{% endblock %}