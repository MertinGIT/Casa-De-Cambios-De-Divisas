{% load static %}
{% load permisos_activos %}
<link rel="stylesheet" href="{% static 'css/sidebar.css' %}" />

<div id="sidebar" class="sidebar">
  <div class="logo-container">
    <img src="{% static 'img/tiendalogo.png' %}" alt="Logo" />
    <h2>Global Exchange</h2>
  </div>

  <ul class="nav-links">

    <li>
      <a href="{% url 'home' %}"><span class="icon">&#x1F4C8;</span>
        <span class="label">Panel Principal</span></a>
    </li>
    <!--
    <li>
      <a href="#"><span class="icon">&#x1F4CA;</span>
        <span class="label">Reports</span></a>
    </li>
    -->
    {% if request.user|has_active_group_perm:'usuarios.change_customuser' %}
    <li>
      <a href="{% url 'editarperfil' %}">
        <span class="icon">&#x1F464;</span>
        <span class="label">Mi Perfil</span>
      </a>
    </li>
    {% endif %} 
    {% if request.user|has_active_group_perm:'operaciones.add_transaccion' %}
    <li>
      <a href="{% url 'operaciones' %}">
        <span class="icon">&#x1F4B5;</span>
        <span class="label">Operaciones</span>
      </a>
    </li>
    {% endif %} 
    {% if request.user|has_active_group_perm:'operaciones.view_transaccion' %}
    <li>
      <a href="{% url 'historial_transacciones:historial_usuario' %}">
        <span class="icon">&#128195;</span>
        <span class="label">Historial</span>
      </a>
    </li>
    {% endif %} 
    <li>
      <a href="{% url 'configuracion_usuario' %}"><span class="icon">&#9881;</span>
        <span class="label">Configuracion</span></a>
    </li>
  </ul>
 
  <hr />

  <ul class="nav-links secondary">
    <li>
      <a href="#"><span class="icon">&#x2753;</span> <span class="label">Ayuda</span></a>
    </li>
    <li>
      <div class="logout-card">
        <a href="{% url 'signout' %}" class="logout-icon">&#x1F6AA;</a>
        <div class="card-content">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <h3>Cerrar sesión</h3>
          <form method="POST" action="{% url 'signout' %}" class="logout-form">
            {% csrf_token %}
            <button type="submit" class="logout-btn-card">Salir</button>
          </form>
        </div>
      </div>
    </li>
  </ul>
</div>

<span id="sidebar-toggle" class="cursor-pointer">
  <svg xmlns="http://www.w3.org/2000/svg" 
       width="24" height="24" 
       viewBox="0 0 24 24" 
       fill="currentColor"
       stroke="currentColor" 
       stroke-width="2" 
       stroke-linecap="round" 
       stroke-linejoin="round">
    <polygon points="5 3 19 12 5 21"></polygon>
  </svg>
</span>


<nav class="mobile-navbar">
  <div class="hamburger-container">
    <span id="hamburger">&#9776;</span>
    <!-- Cambia a X -->
  </div>
  <div id="mobile-menu" class="mobile-menu">
    <ul>
      <li>
        <a href="{% url 'home' %}"><span class="icon">&#x1F4C8;</span>Panel Principal</a>
      </li>
      <!--
      <li>
        <a href="#"><span class="icon">&#x1F4CA;</span> Reports</a>
      </li>
      -->
      <li>
        <a href="{% url 'editarperfil' %}">
          <span class="icon">&#x1F464;</span>
          <span class="label">Mi Perfil</span>
        </a>
      </li>
      <li>
        <a href="{% url 'operaciones' %}">
          <span class="icon">&#x1F4B5;</span>
          <span class="label">Operaciones</span>
        </a>
      </li>
      <li>
        <a href="{% url 'historial_transacciones:historial_usuario' %}">
        <span class="icon">&#128195;</span>
        <span class="label">Historial</span>
      </a>
    </li>
      <li>
        <a href="{% url 'configuracion_usuario' %}"><span class="icon">&#9881;</span> Configuracion</a>
      </li>
      <hr />
      <li>
        <a href="#"><span class="icon">&#x2753;</span>Ayuda</a>
      </li>
      <li>
        <a href="{% url 'signout' %}" class="logout-mobile"><span class="icon">&#x1F6AA;</span> Cerrar sesión</a>
      </li>

    </ul>
  </div>
</nav>

<script src="{% static 'js/sidebar.js' %}"></script>